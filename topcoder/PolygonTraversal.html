<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Manao had a sheet of paper. He drew <b>N</b> points on it, which corresponded to vertices of a regular <b>N</b>-gon. He numbered the vertices from 1 to <b>N</b> in clockwise order.
<br></br><br></br>
After that, Manao connected several pairs of points with straight line segments. Namely, he connected points <b>points</b>[i] and <b>points</b>[i+1] for each i between 0 and M-2, where M is the number of elements in <b>points</b>. Note that all numbers in <b>points</b> are distinct.
<br></br><br></br>
Manao took a look at what he had drawn and decided to continue his traversal by adding every remaining point of the polygon to it and then returning to point <b>points</b>[0]. In other words, Manao is going to connect point <b>points</b>[M-1] with some point <i>tail</i>[0] which is not in <b>points</b>, then connect <i>tail</i>[0] with some point <i>tail</i>[1] which is neither in <b>points</b> nor in <i>tail</i>, and so on. In the end, he will connect point <i>tail</i>[<b>N</b>-M-1] with point <b>points</b>[0], thus completing the traversal.
<br></br><br></br>
Manao is really fond of intersections, so he wants to continue the traversal in such a way that every new line segment he draws intersects with at least one of the previously drawn line segments. (Note that the set of previously drawn segments includes not only the original set of segments, but also the new segments drawn before the current one.) Count and return the number of ways in which he can complete the traversal.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PolygonTraversal</td></tr><tr><td>Method:</td><td>count</td></tr><tr><td>Parameters:</td><td>int, int[]</td></tr><tr><td>Returns:</td><td>long</td></tr><tr><td>Method signature:</td><td>long count(int N, int[] points)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 4 and 18, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>points</b> will contain between 2 and <b>N</b>-1 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>points</b> will be between 1 and <b>N</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>The elements of <b>points</b> will be distinct.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{1, 3, 5}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">The only way for Manao to complete the traversal is:
<br></br>
<img src="http://www.topcoder.com/contest/problem/PolygonTraversal/a.png"></img></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>6</pre></td></tr><tr><td><pre>{1, 4, 2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">The only way to complete the traversal is to visit vertices {6, 3, 5, 1}, in order.
Note that the segment 5-1 does not intersect the original two segments (1-4 and 4-2), but it does intersect segments 2-6 and 6-3 which were both added before 5-1.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>7</pre></td></tr><tr><td><pre>{2, 4, 7}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">The two possible tails are:
<ul>
<li>3-5-1-6-2</li>
<li>3-6-1-5-2</li>
</ul></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>7</pre></td></tr><tr><td><pre>{1, 2, 3, 4, 6, 5}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">Manao needs to connect points 5 and 7 and then connect points 7 and 1. Obviously, segment 1-7 will not intersect with any other segment.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>18</pre></td></tr><tr><td><pre>{1, 7, 18}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4374612736</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
